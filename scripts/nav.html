<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rapport Ludovic Vagner</title>
    <link rel="stylesheet" href="../style.css" />
    <script src="./nav.js" defer></script>
  </head>

  <body>
    <header>
      <h2>Rapport de stage, Ludovic Vagner</h2>
    </header>
    <nav class="pages"></nav>
    <main>
      <section>
        <h2>Le script</h2>
        <pre class="raw-code">
    const ROOT = location.pathname.match(/.*(?&lt; root &gt;rapport-stage)/)[0];
    const IsLOCAL = location.protocol == 'file:';
    let nav = document.querySelector('nav.pages');


    class <span class="class">Anchor</span> {
        /**
        * 
        * @param {string} name Nom de l'élement dans le DOM
        * @param {string} text Text affiché sur la page
        * @param {string} href Chemin relatif depuis le répertoire racine du portfolio
        */
        constructor(name, text, href) {
            this.name = name;
            this.text = text;
            this.href = href;
        }
        /**
        * 
        * @returns {Element} L'élément &lt;a &gt; affiché dans la page
        */
        createElement() {
            let a = document.createElement("a");
            a.className = this.name;
            a.innerText = this.text;
            let div = this.getPathDiv();
            a.href = this.makeLink(this.href, div);
            return a;

        }
        /**
        * 
        * @returns string le séparateur d'arborescence
        */
        getPathDiv() {
            let div = '';
            if (IsLOCAL)
            div = '/';
            else
            div = `\u005c`;
            return div;
        }
        makeLink(url, repoDiv) {
            return ROOT + repoDiv + url;
        };
    }
    const pages = [
        new Anchor('index', 'Page d\'introduction', 'index.html'),
        new Anchor('artimbale', 'Introduction artimbale', 'artimbale.html'),
        new Anchor('rapports', 'Rapport hebdomadaire', 'rapports/main.html'),
        new Anchor('scripts', 'Scripts crée pour le rapport de stage', 'scripts/script.html')
    ]
    pages.forEach(object => { nav.append(object.createElement()); }
    );
                </pre
        >
      </section>
    </main>
  </body>
</html>
