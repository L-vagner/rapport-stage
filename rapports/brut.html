<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rapport Ludovic Vagner</title>
    <link rel="stylesheet" href="../style.css" />
    <script src="../scripts/nav.js" defer></script>
  </head>

  <body>
    <header>
      <h2>Journal de bord</h2>
    </header>
    <nav class="pages"></nav>
    <main>
      <section>
        <time datetime="01-06">06/01/2025</time>
        <h2>Analyse des services de OVHCloud</h2>
        <img src="../images/services_ovh.png" alt="services ovh" />
        <ul>
          <li>
            Offre d'h√©bergement PRO, 79.08‚Ç¨ par ans HT. Acc√®s SSH, ce qui ne
            sera peut √™tre pas n√©cessaire si aucun besoin de s'authentifier pour
            les utilisateurs.
          </li>
          <li>
            Offre d'h√©bergement PERSO, 39.48‚Ç¨ par ans HT. Acc√®s FTP qui ne sera
            s√ªrement pas utilis√©e dans tout les cas.
          </li>
        </ul>
        <p>
          les deux offres ont l'option WordPress en 1 clique, donc peut importe
          l'offre choisi, il sera possible de cr√©er le site web.
        </p>

        <h2>Analyse de march√© (sites web)</h2>
        <p>The andsome cafe</p>
        <img src="../images/andsome_webpage.png" alt="andsome cafe webpage" />
        <p>Simpliste mais √©l√©gant</p>
        <p>Coffee and plants (la)</p>
        <img src="../images/c&p_webpage.png" alt="Coffee and plants webpage" />
        <p>Un brin de folie</p>
        <img
          src="../images/brin_folie_webpage.png"
          alt="brin de folie webpage"
        />
        <p>Un bon site sur lequel se baser mais beaucoup de menus.</p>
        <p>
          les pages web sont divis√©es en sous parties afin d'avoir une meilleur
          structure du site web, chaque sous partie pointe vers une autre page,
          ce qu'on ne fera peut-√™tre pas.
        </p>
        <p>Il faut que je commence a r√©fl√©chir a la mise en page.</p>
        <p>Site avec des OnePagers (site a une page) pour inspiration.</p>
        <img src="../images/OnePager_webpage.png" alt="OnePager webpage" />
        <p>A demander si cela convient, et plus d'informations.</p>
        <p>
          Utilisation de <a href="https://www.lipsum.com/">Lorem Ipsum</a> pour
          g√©n√©rer du texte temporaire lors de cr√©ation de maquette.
        </p>
        <p>Avoir moins peur de demander.</p>
        <img src="../images/first_maquette.png" alt="maquette" />
        <p>T√©l√©charg√© les polices utilis√©e et la logotheque.</p>
        <img src="../images/logo_artimbale.png" alt="logo artimbale" />
        <p>R√©cup√©rer Avis Google, lien carte Google Map.</p>
        <p>
          Regarder comment faire / si c'est d√©j√† fait sur un plugin WordPress.
        </p>
      </section>

      <section>
        <time datetime="01-07">07/01/25</time>
        <p>Faire page en construction pour le site.</p>
        <p>Fait du PIX.</p>
        <p>
          Fait 1 exercice de
          <a href="https://www.theodinproject.com/">Odin projet</a>.
        </p>
        <p>FileZilla install√©.</p>
        <p>Refaire installation WordPress manuellement sur le serveur.</p>
        <p>Utiliser la documentation WordPress pour d√©velopper le th√®me.</p>
        <h2>Installation manuel de WordPress</h2>
        <p>
          Utilise
          <a
            href="https://wordetweb.com/word-et-web/WORDPRESS-guide-installation-de-WordPress-premier-domaine-chez-OVH-FR.htm"
            >ce guide</a
          >
          pour installation sur OVH.
        </p>
        <p>Sauvegarde des identifiants dans un coffre-fort de mot de passe.</p>
        <p>
          Site cr√©e:
          <img src="../images/page_admin_wp.png" alt="page admin wordpress" />
        </p>
        <p>
          Changement du pr√©fixe dans la base de donn√©es, admin perds ces droits
          <img src="../images/page_index_wp.png" alt="page index wordpress" />
          <img
            src="../images/page_erreur_access_wp.png"
            alt="page erreur acces wordpress"
          />
        </p>
        <p>
          Retour en arri√®re sur le manipulations, utilisation du plugin
          <a href="https://wordpress.org/plugins/brozzme-db-prefix-change/">
            Brozzme DB Prefix & Tools Addons
          </a>
          pour effectuer le changement.
        </p>
        <p>
          Changement de l'icon du site, en attente de son apparition sur le
          site.
        </p>
      </section>

      <section>
        <time datetime="01-08">08/01/2025</time>
        <p>Loup√© r√©veil ce matin, arriv√© une dizaine de minutes en retard.</p>
        <p>
          Installation <a href="https://fr.wikipedia.org/wiki/LAMP">LAMP</a> sur
          mon ordinateur portable pour cr√©er un environnement de d√©veloppement.
        </p>
        <p>Difficult√© d'effectuer l'installation pour pr√®s de 2 heures.</p>
        <p>1 heure de plus pour installer wordpress sur lamp.</p>
        <p>
          Appris un peu de gestion de permissions de fichier
          <a
            href="https://www.softwaretestinghelp.com/unix-file-access-permissions/"
          >
            (chmod, chown, chgrp )</a
          >, raison: simplifier le developpement sur l'environnement local en
          supprimant la n√©cessit√© d'avoir les permissions suffisant
        </p>

        <h4>NE PAS OUBLIER A CHANGER LORS DU TRANSFERT</h4>

        <p>
          Ludivine m'a dit de tenter plein de chose tant que c'est le d√©but du
          stage, cr√©er son propre th√®me wordpress, plugin?
        </p>
        <p>
          Lecture du
          <a href="https://developer.wordpress.org/themes/">theme handbook</a>
          de wordpress pour cr√©er theme perso
        </p>
      </section>
      <section>
        <time datetime="01-09">09/01/2025</time>
        <p>Continue lecture handbook, cr√©ation d'un th√®me</p>
        <img src="../images/theme_artimbale.png" alt="theme artimbale" />
        <p>
          Ajout d'une police utilis√©e par artimbale, probl√®me dans la coloration
        </p>
        <img src="../images/code_police.png" alt="Code de police" /><img
          src="../images/police_non_color√©.png"
          alt="Police non color√©"
        />
        <p>Corrig√© le probl√®me en changeant le fichier utilis√©</p>
        <img src="../images/police_color√©.png" alt="Police color√©" />
        <p>Cr√©ation de tailles</p>
        <p>Ajout d'une seconde police pour le texte du site</p>
        <p>
          Cr√©ation de
          <a
            href="https://developer.wordpress.org/themes/templates/template-parts/"
            >template part</a
          >
          en suivant le handbook .
        </p>

        <p>
          Regarder les droits copyright des polices en plus de d√©tails demain.
        </p>
        <p>Apprendre les patterns demain.</p>
      </section>

      <section>
        <time datetime="01-10">10/01/2025</time>
        <p>Ajoute mode d√©veloppement sur wordpress local/lamp</p>
        <p>Probl√®me a ajouter des patterns sur lamp</p>
        <p>Cr√©ation de cat√©gorie de patterns</p>
        <img
          src="../images/code_cat_pattern.png"
          alt="code cat√©gorie pattern"
        />
        <p>Le bloc core media-text est impossible √† pr√©-configurer.</p>
        <p>Cr√©er un pattern pour chaque section.</p>
        <p>Cr√©er un pattern pour les posts</p>
        <p>J'ai r√©ussi a pr√©-configurer le bloc core media-text.</p>
        <img
          src="../images/code_config_media_text.png"
          alt="code block core media-text"
        />
      </section>

      <section>
        <time datetime="01-13">13/01/2025</time>
        <p>Confirmation de sections d√©sir√©es et cr√©ation de maquette.</p>
        <ul>
          <li>Pr√©sentation / Histoire</li>
          <li>Caf√© (menu, photo)</li>
          <li>Bazar (photo objets)</li>
          <li>Herboristerie</li>
          <li>Agenda</li>
          <li>Contact, emplacement</li>
        </ul>
        <img src="../images/maquette_present.png" alt="maquette pr√©sentation" />
        <img src="../images/maquette_cafe.png" alt="maquette caf√©" />
        <img src="../images/maquette_bazar.png" alt="maquette bazar" />
        <p>
          Se baser sur un calendrier papier pour l'agenda? ( choix par mois ou
          semaine), chaque semaine prend une ligne de lundi a dimanche.
        </p>
        <p>Comment le mettre √† jour est aussi un probl√®me.</p>
        <img src="../images/maquette_agenda.png" alt="maquette agenda" />
      </section>

      <section>
        <time datetime="01-14">14/01/2025</time>
        <p>Demand√©e avis sur maquette des sections.</p>
        <p>Commenc√©e rapport de stage sur site h√©berg√© par Git Hub.</p>
        <p>
          Probl√®me avec la programmation du rapport de stage, backslash
          s'√©chappe mal dans la console mais correctement dans l'ex√©cution.
        </p>
        <p>Cr√©ation d'une maquette pour le rapport de stage.</p>
        <img
          src="../images/maquette_rapport.png"
          alt="maquette rapport de stage"
        />
        <p>
          Apr√®s vu ensemble avec Ga√´lle et Ludivine, enlever l'arri√®re plan
          color√© en pr√©f√©rence, donn√©e plusieurs site a utiliser pour
          inspiration, re-touche des maquettes.
        </p>
        <p>
          Accept√© pour la plupart, possiblement images de tailles diff√©rentes
          pour le bazar.
        </p>
        <p>
          Retour sur le developpement de theme wordpress pour la section/paterne
          histoire
        </p>
      </section>

      <section>
        <time datetime="01-15">15/01/2025</time>
        <p>
          Toujours en train de d√©velopper le th√®me, r√©ussi a mettre en place la
          taille du contenu mais ne comprends pas encore comment aligner le
          texte a gauche.
        </p>
        <p>J'ai trouv√©, je suis un abruti!</p>
        <p>Il suffit d'ajouter du padding horizontale au bloque conteneur.</p>
        <img src="../images/padding_block.png" alt="padding block" />
        <p>Cr√©ation de padding custom.</p>
        <p>
          Trouv√© comment cr√©er des √©l√©ments sections avec des bloques conteneur,
          certain ont l'option:
        </p>

        <pre>HTML element.</pre>
        <p>
          Cette option permet de choisir quelle √©l√©ments va √™tre cr√©e dans le
          DOM.
        </p>
        <p>
          Recherche de documentation sur les bloques de wordpress pour savoir
          lequel utilis√© pour cr√©er une gallerie d'article.
        </p>
        <p>
          Le loop wordpress, il est a utiliser dans la page template d√©sir√©es.
        </p>
        <p>Prototype du loop qui sera utilis√©e:</p>
        <img src="../images/code_loop_initial.png" alt="code loop initial" />
        <p>R√©sultat:</p>
        <img src="../images/resultat_loop.png" alt="r√©sultat loop" />
        <p>On a des posts!</p>
        <p>
          Il faudra voir pour cr√©er un paternes de postes pour simplifier
          l'ajout de nouveau postes si possible.
        </p>
        <p>
          Trouv√© un thread wordpress qui sera s√ªrement amplement suffisant pour
          cr√©er la fonctionnalit√© ("vol" de code) mais je d√©sire comprendre le
          code donc il semble que je vais devoir lire la documentation pour les
          plugins, jusqu'au moins a la partie ¬´hooks¬ª.
        </p>
      </section>

      <section>
        <time datetime="01-16">16/01/2025</time>
        <p>
          Pour cr√©er un pattern, j'ins√®re le pattern dans la page index, je le
          modifie avec l'√©diteur en ligne, puis je copie le code de la page pour
          le pattern et le copie dans le fichier du pattern.
        </p>
        <p>Cr√©ation d'un plugin de base / test:</p>
        <img src="../images/plugin.png" alt="plugin apparait dans page admin" />
        <p>
          Les plugins permet de cr√©er des nouveaux ¬´type¬ª de post, s√©par√© des
          posts de base wordpress
        </p>
        <img src="../images/type_custom.png" alt="type post custom" />
        <p>Cela peut √™tre utile pour le loop.</p>
        <p>
          Cr√©ation d'un
          <a href="https://fr.wikipedia.org/wiki/Lien_symbolique">symlink</a>
          pour enregistrer le plugin dans le git du th√®me.
        </p>
        <p>
          (expliquer chaque concept comme symlink ou plugin dans le rapport de
          stage).
        </p>
        <p>
          Ajoute de licence GPL au plugin et au th√®me (aucune id√©e comment le
          faire proprement mais j'ai essay√© au moins)
        </p>
        <p>
          S√ªrement ajouter les types customs au th√®me pour simplifier la
          migration (en + je compte utilis√© les posts custom pour les loops donc
          ils sont n√©cessaire au bon fonctionnement du th√®me).
        </p>
        <p>
          Possiblement utilis√© le th√®me pour cr√©er des types de posts et cr√©er
          un plugin pour cr√©er des carrousel (ligne d'objets, dans ce cas des
          posts), je peut donc diviser les fichiers entre l'apparence et la
          fonctionnalit√©.
        </p>
        <p>D√©panner imprimante wifi quand possible.</p>
        <p>
          T√©l√©travail l'apr√®s-midi car je suis juste en train de lire la
          documentation sur les plugins, ce qui ne n√©cessite pas d'√™tre pr√©sent
          pour le faire.
        </p>
        <p>
          Je ne pense pas que le plugin n√©cessite un menu mais on pourra en
          parler demain.
        </p>
        <p>Peut √™tre un shortcode?</p>
        Sections du
        <a href="https://developer.wordpress.org/plugins/">handbook</a> vue:
        <ul>
          <li>Administration, l'endroit pour les param√®tres du plugin</li>
          <li>
            shortcode, une balise qui ex√©cute du code PHP, peut accepter des
            param√®tres/arguments.
          </li>
          <li>
            Metadata, utilis√© pour identifier des informations sur le post,
            possiblement utile, mais je n'en suis pas s√ªr.
          </li>
          <li>
            Custom post types, les postes customis√©, on doit les enregistrer
            pour les utiliser. Il faut ajouter les types custom manuellement a
            la query de wordpress.
          </li>
          <li>
            Taxonomy, utilis√© pour organiser des donn√©es, s√ªrement plus utile
            dans notre cas que les metadatas.
          </li>
          <li>
            Utilisateurs, explique des informations concernant les utilisateurs.
          </li>
          <li>Ne sera pas utilis√© car non pertinent!</li>
          <li>
            JavaScript, d√©montre les diff√©rentes biblioth√®ques compris dans
            l'installation de wordpress, notamment jQuery.
          </li>
          <li>
            Cron, permet de programmer des taches, sera s√ªrement utilis√© pour
            mettre a jour les informations r√©cup√©r√© d'Instagram.
          </li>
        </ul>
        <p>
          R√©ussi a modifier la query pour r√©cup√©rer les posts du type caf√© que
          j'avais cr√©e plus t√¥t.
        </p>
        <p>
          Voir demain pour l'id√©e des taxonomies, puis l'affichage des posts
          dans les patterns.
        </p>
      </section>

      <section>
        <time datetime="01-17">17/01/2025</time>
        <p>
          Modification du type custom pour obtenir un r√©sultat plus sp√©cifique.
        </p>
        <p>
          Corrig√© erreur dans menu admin o√π les postes de diff√©rents types
          s'affichait ensemble, c'est car l'action pre_get_posts est utilis√©
          pour tout appele de posts, donc quand le menu appelait des posts pour
          afficher le cpt, l'action s'activait, et donc les modifications que
          j'avais effectu√©es se lan√ßait, il a fallu ajouter un test pour
          s'assurer que l'action n'est pas appel√© depuis un menu admin.
        </p>
        <p>Avis: a voir avec ludivine</p>
        <p>
          Ajout√© des posts dans le type caf√©, ils apparaissent dans le loop.
        </p>
        <p>
          Mal compris les pages templates, inutilisable avec les blocs? Bref, je
          n'arrive pas a les faire marcher.
        </p>
        <p>
          Je peux cr√©er dans le plugin des param√®tres pour choisir le post qui
          contient le template, puis apr√®s mettre a jour le contenu quand un
          nouveau post du m√™me type est cr√©e, c'est a dire automatiquement
          pr√©par√©r la cr√©ation de postes custom.
        </p>
        <p>
          Pour cr√©er un scroll infinie, on pourrait utiliser une fonction
          javascript
        </p>
        <p>Regarder les param√®tres du bloque scroll query.</p>
        <p>
          Tent√© d'utilis√© query vars comme la documentation l'explique, mais √ßa
          ne marche pas comme expliqu√© et sont efficacement inutilisable pour ce
          que je d√©sire.
        </p>
      </section>

      <section>
        <time datetime="01-20">20/01/2025</time>
        <p>
          Continue d'essayer de modifier le query a l'ex√©cution avec des actions
          wordpress, si je n'arrive pas je coderais directement dans le pattern.
        </p>
        <p>
          Suivi du block editor handbook pour cr√©er un variation du bloque query
          loop.
        </p>
        <p>
          √áa √† l'air bien trop compliqu√© et trop sp√©cifique pour 2 utilisations,
          je vais donc juste √©crire directement la requ√™te dans les paternes.
        </p>
        <p>√âcriture du second pattern.</p>
        <p>
          Mise en page des patterns, la barre de d√©filement est superpos√© aux
          √©l√©ments.
        </p>
        <p>Erreur trouve: Typo dans le nom de la variable</p>
        <img src="../images/typo_variable.png" alt="le coupable a √©t√© trouv√©" />
        <p>manque un ¬´-¬ª entre wp et preset:</p>
        <p>typo correct:</p>
        <pre>--wp--preset--spacing--small</pre>
        <p>
          Liste de prix pour caf√©s/consommation, puis afficher certains
          produits/consommation sans les prix.
        </p>
        <p>Page admin pour les prix avec du PHP et un formulaire?</p>
        <p>
          Pour les carrousel: afficher le titre du post quand l'image est
          survol√©?
        </p>
      </section>

      <section>
        <time datetime="01-21">21/01/2025</time>
        <p>
          Plugin va cr√©er une option pour ajouter des prix a des postes, puis
          cr√©er un bloque ou un pattern pour l'afficher.
        </p>
        <p>Quelque probl√®me caus√© par un erreur de frappe.</p>
        <p>
          Travail pour le moment: cr√©er plugin pour prix et mise en page du
          menu.
        </p>
        <p>
          Cr√©ation d'une table de donn√©es si elle n'existe pas lors de
          l'activation du plugin.
        </p>
        <img
          src="../images/code_creation_table.png"
          alt="code cr√©ation table"
        />
        <p>
          Recherche d'un mot sp√©cifique pour base de donn√©es, 10 minutes pour
          trouver:
        </p>

        <h4>¬´devise¬ª</h4>
        <p>
          Lu de la documentation MySQL pour attribuer le bon charset a la table.
        </p>
        <p>
          Mal compris plusieurs fois l'utilit√© des nonces, ils sont a utilis√©
          pour prot√©ger au attaques de site externes sp√©cifiquement.
        </p>
        <p>Demander a Ludivine et Ga√™lle de d√©crire la boutique.</p>
        <p>Pointer vers une annonce ulule sauvegard√© dans mes favoris.</p>
        <p>
          Probl√®me a utiliser une fonction, il faut inclure un ficher pour
          l'utiliser.
        </p>
        <p>
          Bloqu√© 1 ou 2 heures sur les message d'admin, r√©ussi au final de faire
          appara√Ætre le message.
        </p>
      </section>

      <section>
        <time datetime="01-22">22/01/2025</time>
        <p>Utilisation du message d'admin pour tester les variables.</p>
        <img
          src="../images/deug_message_admin.png"
          alt="debug avec message admin"
        />
        <p>R√©cup√©ration des diff√©rents types de postes.</p>
        <p>
          Regarder dans le handbook api / plugin pour la cr√©ation d'un menu
          d'options.
        </p>
        <p>Champ option cr√©e dans la base de donn√©es.</p>
        <img
          src="../images/option_sauvegard√©.png"
          alt="option sauvegard√© dans la bdd"
        />
        <p>
          Difficult√© a utiliser des fonctions de classe a l'int√©rieur d'une
          autre fonction de la classe
        </p>
        <p>Trouv√© 2 m√©thode:</p>
        <ol>
          <li>
            <p>
              J'utilise la fonction d'instanciation de la classe que je store
              dans une variable, puis utilise la fonction depuis la variable.
            </p>
            <p>
              Tr√®s moche, et effectue l'√©quivalent de la seconde m√©thode mais
              depuis la classe elle m√™me donc un peu plus dur a suivre.
            </p>
            <p>
              La raison pourquoi il est oblig√© d'utiliser l'instanciation et non
              simplement la pseudo-variable $this est car la m√©thode est
              statique et donc peut-√™tre appel√© hors d'un objet.
            </p>
            <img
              src="../images/fonction_statique_problematique.png"
              alt="la fonction statique probl√®matique"
            />
          </li>
          <li>
            J'enl√®ve la m√©thode de statique, elle doit donc √™tre forcement
            ex√©cut√© depuis un objet et la pseudo-variable fonctionne
            correctement. Cela permet un meilleur suivi dans le code principal
            et rend la fonction plus lisible.
          </li>
        </ol>
        <p>
          Cr√©ation du formulaire d'option, la page fonctionne mais est vide.
        </p>
        <p>Recu mail pour les consignes du suivi du stage.</p>
        <p>Portfolio sur GitHub vendredi.</p>
        <p>59, avenue F√©lix Faure 69003, Lyon.</p>
        <p>Je n'arrive pas a faire afficher le menu d'options.</p>
        <p>
          Apr√®s 1 heure, erreur trouv√©: la fonction do_settings_sections()
          demande le nom de la page de param√®tre pour afficher ses sections,
          l'article que je suivait pour cr√©er cette page de param√®tre a utiliser
          le m√™me nom pour la page et la section, j'ai donc ajout√© le nom de la
          section a la fonction.
        </p>
        <img
          src="../images/fonction_mal_explique.png"
          alt="une fonction avec une signature mal expliqu√©"
        />
        <p>
          Si wordpress avait des nom plus intelligents, j'aurai pu deviner plus
          t√¥t que la fonction qui parle de sections au pluriel n'attend pas le
          nom d'une section et potentiellement d'autre param√®tre, mais le nom de
          la page, C'est a dire: la signature que je voyais:
        </p>
        <pre>do_settings_sections(string $section, string[] ‚Ä¶)</pre>
        <p>La vrai signature:</p>
        <pre>do_settings_sections(string $page)</pre>
        <p>
          Mais bon, je suis la personne qui a pr√©suppos√© que tout les noms de
          fonction serait utiles pour conna√Ætre la signature attendu.
        </p>
        <p>
          Le d√©but de la page est l√† mais logiquement, rien ne se sauvegarde car
          pas encore mis en place.
        </p>
      </section>

      <section>
        <time datetime="01-23">23/01/2025</time>
        <p>Ajout de la sauvegarde du formulaire.</p>
        <p>Probl√®me avec la r√©cup√©ration de types de postes.</p>
        <p>
          Trouv√© une partie de probl√®me, le code d'ajout de types de postes
          s'ex√©cutait des fois plus tard que l'enregistrement dans les
          param√®tres, cela est corrig√© en augmentant la priorit√© de la cr√©ation
          de type et diminuant celle de la cr√©ation de param√®tres.
        </p>
        <img
          src="../images/fonction_prio_reduit.png"
          alt="la fonction param√®tre avec sa priorit√© r√©duite"
        />
        <p>
          Probl√®me dans l'affichage de la page de param√®tres, corrig√© en
          transformant la boucle
        </p>
        <pre>
( foreach ‚Ä¶ as $value ) = = = > ( foreach ‚Ä¶ as $key => $value )</pre
        >
        <img src="../images/affichage_bugge.png" alt="l'affichage bugg√©" /><img
          src="../images/affichage_normal.png"
          alt="l'affichage fonctionnel"
        />
        <p>
          Les champs se mettent √† jour en fonction des valeurs dans la base de
          donn√©es.
        </p>
        <img
          src="../images/formulaire-1.png"
          alt="le formulaire avec les champs, l'un des champs checkbox est d√©j√† coch√© car vrai dans la bdd"
        />Modification
        <img
          src="../images/formulaire-2.png"
          alt="Changement des champs dans la base de donn√©es"
        /><img
          src="../images/formulaire-3.png"
          alt="le formulaire, avec les champs mis √† jour"
        />
        <p>Il ne manquent plus que la sauvegarde gr√¢ce au formulaire.</p>
        <p>Complication avec la mise √† jour dynamique des donn√©es.</p>
        <p>
          Apr√®s facilement 2 heures, j'ai finalement r√©ussi √† aplatir la table
          utilis√© pour les champs, et oubli√© de manger a midi.
        </p>
        <p>
          La table r√©cup√©r√© est 2 dimensionel √† cause de la fonction utilis√©
          pour compar√©r les valeurs, il faut donc la rendre 1 dimensionel pour
          l'enregistrer correctement dans la base de donn√©es.
        </p>
        <img
          src="../images/fonction_flatten.png"
          alt="fonction qui met a jour les champs dynamiquement, avec la fonction pour applatir la table"
        />
        <p>
          La mise √† jour automatique du formulaire fonctionne! (avant la mise √†
          jour ne s'effectuait pas et il √©tait impossible de l'utiliser pour
          d√©tecter des nouvelle types de postes sans casser.)
        </p>
        <p>Le r√©sultat dans le code est moche mais fonctionnel.</p>
        <p>
          √áa me d√©range, mais je doit le laisser pour m'occuper de choses plus
          importantes.
        </p>
        <p>
          A cause de la moins que parfaite documentation de wordpress, j'ai
          essay√© de mettre en place une v√©rification de nonce alors que la
          fonction settings fields s'en occupait d√©j√†.
        </p>
        <p>Le code d'activation du plugin ne fonctionne plus, pourquoi?</p>
        <p>
          WordPress, le seul framework qui arrive subitement √† se casser sans
          explications.
        </p>
        <pre>do_action(‚Äòinit')</pre>
        <p>S'execute avant</p>
        <pre> register_activation_hook()</pre>
        <p>
          Il √©tait donc impossible d'attacher une fonction au hook init lors de
          l'activation du plugin, car l'activation s'appele apr√®s init
          uniquement lors de l'activation.
        </p>
        <pre>new WPSP_Activator = = = > WPSP_Activator::activate()</pre>
      </section>

      <section>
        <time datetime="01-24">24/01/2025</time>
        <p>T√©l√© travail pour pr√©parer le portfolio.</p>
        <p>Script pour la navigation cr√©e, a tester sur le serveur h√¥te.</p>
        <p>√áa fonctionne!</p>
        <p>
          Complication a utiliser git, apr√®s quelque manipulation, finalement
          cr√©e des branches plus propre.
        </p>
        <img
          src="../images/git_source_control.png"
          alt="git source control graph"
        />
      </section>
      <section>
        <time datetime="01-27">27/01/2025</time>
        <p>
          Correction d'une petite erreur d'affichage dans le formulaire
          d'options.
        </p>
        <p>Difficult√© avec la sauvegarde.</p>
        <p>
          Pense avoir trouv√© la raison pourquoi la sauvegarde ne fonctionne pas?
        </p>
        <img
          src="../images/signature_register_setting.png"
          alt="Signature de register_setting"
        />
        <img
          src="../images/description_option_name.png"
          alt="D√©finition de option_name"
        />
        <p>
          Ceci est tr√®s literal: Si le nom donn√©e n'est pas dans la base de
          donn√©es, rien ne change.
        </p>
        <p>A nouveau, la documentation wordpress n'a pas √©t√© assez pr√©cis.</p>
        <p>Maintenant il faut que je fasse que √ßa fonctionne.</p>
        <p>R√©ussi a collecter les champs qui sont activ√©:</p>
        <img
          src="../images/image_parametre_fonctionnel.png"
          alt="image param√®tres fonctionnel"
        />
        <img
          src="../images/sanitize_debug_initial.png"
          alt="sanitize types debug"
        />
        <p>
          Bon, il est vrai que le code n'utilise pas exactement le
          fonctionnement de register setting (renvoie l'input li√©e par nom √† la
          fonction sanitize d√©fini dans ses param√®tres, dans mon cas je r√©cup√®re
          mes input depuis $_POST directement) mais si √ßa fonctionne ...
        </p>
        <img
          src="../images/sanitize_types_function.png"
          alt="fonction sanitize type"
        />
        <p>
          rubber duck debug: Maintenant que j'ai les valeurs activ√©s, je veux
          les convertir en bool vrai puis mettre a jour la table d'options
          associ√©e. Je sais que la table d'option contient une table avec les
          cl√©s en string et valeur en bool: 0 | 1. je pourrais r√©cup√©rer chaque
          cl√©es de la table et mettre les nouvelles valeurs: si j'ai la cl√© dans
          mon input, alors l'option associ√©es est vrai, sinon elle est fausse.
        </p>
        <table>
          <tr>
            <td></td>
            <td>Option activ√©</td>
            <td>Option d√©sactiv√©</td>
          </tr>
          <tr scope="row">
            <td>Input activ√©/ pr√©sent</td>
            <td>Aucun changement</td>
            <td>Option s'active</td>
          </tr>
          <tr scope="row">
            <td>Input d√©sactiv√©/ absent</td>
            <td>Option se d√©sactive</td>
            <td>Aucun changement</td>
          </tr>
        </table>
        Transformation en bool fonctionnel
        <img
          src="../images/bool_sanitize_type.png"
          alt="transformation en bool dans fonction sanitize debug"
        />
        <img
          src="../images/sanitize_type_debug.png"
          alt="Debug sanitize types"
        />
        <p>
          (le vide apr√®s ¬´[...] =>¬ª dans le second Array est en fait la valeur
          faux, qui n'est pas pris en compte par print_r et donc n'appara√Æt
          pas.)
        </p>
        <p>
          La sauvegarde de valeur vrai fonctionne mais oubli√© de cod√© la
          sauvegarde de valeur fausse. Tromp√© dans le nom d'une variable oops.
        </p>
        <p>Sauvegarde fonctionne.</p>
        <img
          src="../images/converissement_array_entree.png"
          alt="Convertissement dans un array de valeur entr√©e"
        />
        <p>
          En utilisant array_merge, j'√©crase les valeurs sauvegard√© par celle
          donn√©es dans le formulaire.
        </p>
        <p>
          Utilisation de fonctions pour v√©rifier les valeurs, trouv√© les
          fonctions php mb (multi-byte) sur un formulaire stack overflow.
        </p>
        <img
          src="../images/verification_mb_strlen.png"
          alt="V√©rification du caract√®re entr√©e avec mb_strlen"
        />
        <p>R√©sultat: tout fonctionne comme pr√©vu.</p>
        <img
          src="../images/option_sauvegarde_bdd.png"
          alt="Image options sauvegard√© dans bdd"
        />
        <img
          src="../images/sauvegarde_bdd_1.png"
          alt="Exemple sauvegarde formulaire 1"
        />
        <img
          src="../images/sauvegarde_bdd_2.png"
          alt="Exemple sauvegarde formulaire 2"
        />
        <img
          src="../images/sauvegarde_bdd_3.png"
          alt="Exemple sauvegarde formulaire 3"
        />
      </section>
      <section>
        <time datetime="01-28">28/01/2025</time>
        <p>
          Tentative de cr√©ation d'un titre pour la section devise afin d'avoir
          une description des limitations de l'entr√©e (1 caract√®re)
        </p>
        <p>
          Distrait par cr√©ation d'une classe pour s√©parer la gestion des types
          custom a utiliser et le menu de param√®tres, s√ªrement cr√©e une autre
          classe pour la gestion des prix.
        </p>
        <img
          src="../images/formulaire_parametre_complet.png"
          alt="formulaire de param√®tres complet"
        />
        <p>Menu de param√®tres finalis√©, a demander avis.</p>
        <p>
          Le formulaire se met a jour correctement si les valeurs sont modifi√©
          directement dans la bdd, je peut donc enlever le code qui me
          perturbait dans ma classe.
        </p>
        <img src="../images/fonction_supprime.png" alt="fonction supprim√©" />
        <p>Au revoir!</p>
        <p>Je vais s√©parer la classe des param√®tres et la classe des prix.</p>
        <p>
          Le menu n'appara√Æt pas si l'utilisateur n'a pas le permissions de
          modifier les options, mais je voudrais que les √©diteurs puissent
          acc√©der au prix, je vais donc inverser l'appel (prix cr√©e le menu et
          settings cr√©e un sous-menu).
        </p>
        <p>10 minutes perdu car l'action est attach√© au mauvais hook.</p>
        <p>
          Je vais devoir cr√©e ma page de prix manuellement car je ne peux
          utiliser la fonction register_setting (elle enregistre les valeurs
          donn√©es dans la table option de la bdd, je veux enregistrer dans la
          table simpleprices)
        </p>
        <p>Je peux ajouter le nonce directement dans le formulaire.</p>
        <p>
          Je pense que je vais essayer de trouver un tuto pour une cr√©ation de
          formulaire sans l'api settings afin de comprendre comment le faire,
          d'abord chercher un tuto sur web, puis vid√©o si je ne trouve pas.
        </p>
        <p>
          trouv√© un
          <a href="https://wpshout.com/wordpress-options-page/">tuto / blog</a>
        </p>
        <p>
          Quelque complications: quand j'ouvre la page pour la premi√®re fois, le
          nonce n'est pas √©tablie, et donc la page ne s'ex√©cute pas.
        </p>
        <img
          src="../images/fonction_nonce_trop_tot.png"
          alt="fonction de nonce qui s'√©x√©cute trop t√¥t"
        />
        <img
          src="../images/exemple_erreur_nonce.png"
          alt="exemple d'erreur du nonce, la page est bloqu√© car le nonce n'est pas v√©rifi√©"
        />
        <p>
          Je pense que j'ai l'erreur, je fais le contr√¥le du nonce dans la
          fonction qui s'occupe de l'affichage de la page, je devrait s√©parer
          l'affichage et le contr√¥le, mais comment?
        </p>
        <p>
          Apr√®s un peu de recherche, trouv√© que c'est bien l'erreur, mais aussi
          que comme la fonction est d√©clar√© par wordpress, le formulaire
          s'ex√©cute avant et la fonction wp_verify_nonce n'est pas encore
          d√©clar√©.
        </p>
        <p>
          J'ai donc ajout√© la v√©rification a une fonction que j'attache a init.
        </p>
        <img
          src="../images/ajout_action_init.png"
          alt="ajout d'une action a init"
        />
        <img
          src="../images/fonction_attache.png"
          alt="fonction attach√© a init"
        />
        <p>
          Je veux r√©cup√©rer tout les postes qui contient un type activ√©, il faut
          donc que je r√©cup√®re les options du plugin, gardent uniquement les
          types qui ne sont pas 0, puis renvoyer un table des postes qui
          appartient au types.
        </p>
        <p>Le formulaire n'ex√©cute plus la v√©rification du nonce.</p>
        <p>
          R√©ussi a corriger le probl√®me d'ex√©cution en cr√©ent une action
          wordpress
        </p>
        <img
          src="../images/fonction_verification_action.png"
          alt="Ajout de la fonction de v√©rification a mon action"
        />
        <img
          src="../images/appel_action_soumission.png"
          alt="Appel de l'action quand la soumission du formulaire est v√©rifi√©"
        />
        <pre>wp_verify_nonce</pre>
        <p>
          renvoie toujours faux, c'est s√ªrement moi qui comprends mal comment √ß√†
          marche a nouveau.
        </p>
        <p>
          C'√©tait vrai: verify nonce n√©cessite la valeur renvoy√© par le nonce,
          et non son nom comme je le croyais.
        </p>
        <img
          src="../images/code_nonce_fonctionnel.png"
          alt="code du nonce fonctionnel"
        />
        <p>Fonctionnel maintenant.</p>
        <p>Plus qu'√† coder les entr√©es en elle m√™me.</p>
        <p>L'affichage est l√† (en partie).</p>
        <img
          src="../images/affichage_initial_form_prix.png"
          alt="affichage initial formulaire prix"
        />
        <p>
          Apr√®s avoir copier l'affichage de la page qui utilise l'api settings
        </p>
        <img
          src="../images/code_affichage_form_prix.png"
          alt="code de l'affichage du formulaire"
        />
        <p>C'est bien plus lisible.</p>
        <img
          src="../images/affichage_amelior√©_form_prix.png"
          alt="Affichage am√©lior√© du formulaire des prix"
        />
        <p>
          Je voudrais faire que 2 post s'affiche dans une seul rang√©, il
          suffirait d'ins√©rer le prochain post entre les √©l√©ments tr, mais on ne
          peut pas ins√©rer de post qui n'existe pas donc il faut aussi v√©rifier
          que le post demand√© existe bien.
        </p>
        <p>
          Je pense que je vais d'abord travailler sur la sauvegarde puis
          regarder pour les rang√©s.
        </p>
        <p>
          Donc: S√©paration des posts par types > sauvegarde du formulaire >
          affichage 2 postes par rang√©s.
        </p>
      </section>
      <section>
        <time datetime="01-29">29/01/2025</time>
        <p>Cr√©ation d'une fonction pour trier les postes par types :</p>
        <img src="../images/29-01_01.png" alt="fonction de trie de postes" />
        <p>
          Wordpress m'emp√™che d'avoir une table dans une autre, donc faire des
          affichages par table, m√™me si utile, n'est pas tr√®s personnalisable.
        </p>
        <p>Ajout d'une fiche css dans le code principal.</p>
        <img
          src="../images/29-01_02.png"
          alt="Ajout de fiche de style dans les scripts"
        />
        <p>
          Ne fonctionne pas, et √ßa ne semble vraiment pas √™tre une erreur de ma
          part, on adore wordpress !
        </p>
        <p>
          Wordpress adore avoir des noms de fonctions pas claire, dans notre
          cas, wp_enqueue‚Ä¶. S'execute uniquement pour les pages publics, il faut
          donc utiliser la version admin du hook ( admin_enqueue‚Ä¶.)
        </p>
        <img
          src="../images/29-01_03.png"
          alt="fonction ajust√© pour correspondre au demandes de wordpress"
        />
        <p>Fonctionnel.</p>
        <img
          src="../images/29-01_04.png"
          alt="d√©monstration du fonctionnement"
        />
        <p>On peut sp√©cifier la page avec ce hook</p>
        <img src="../images/29-01_05.png" alt="nouveau hook utilis√©" />
        <p>Je d√©place donc le script d'activation dans la class WPSP_Prix</p>
        <img
          src="../images/29-01_06.png"
          alt="code d'ajout de la fiche de style int√©gr√© a la classe"
        />
        <p>
          Wordpress n'a pas subitement explos√©, car sa fonctionne comme d√©crit
          sans nuance (pour 1 fois).
        </p>
        <p>Il suffit plus qu'a rajouter la mise en page d√©sir√©e.</p>
        <p>Je voudrais quelque chose comme √ß√† :</p>
        <table>
          <thead>
            <tr>
              <th rowspan="2">Type</th>
              <th>Label</th>
              <th>Input</th>
            </tr>
            <tr>
              <th>Label</th>
              <th>Input</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th rowspan="2">Type</th>
              <th>Label</th>
              <th>Input</th>
            </tr>
            <tr>
              <th>Label</th>
              <th>Input</th>
            </tr>
          </tbody>
        </table>
        <p>Je pense pouvoir faire quelque chose de similaire avec un foreach</p>
        <p>Apr√®s un peu de d√©brouillardisme, j'ai ces r√®gles css suivantes</p>
        <img src="../images/29-01_07.png" alt="r√®gles css cr√©e" />
        <p>Qui donne cette affichage :</p>
        <img
          src="../images/29-01_08.png"
          alt="Affichage de la page de prix apr√®s l'application du css"
        />
        <p>
          Il faut maintenant r√©cup√©rer les prix pour les sauvegarder dans la
          base de donn√©es.
        </p>
        <p>J'ai r√©cup√©rer les valeurs, plus qu'√† les traiter.</p>
        <p>
          Je ne garde pas les valeurs nul ou qui ne seront pas sauvegard√© dans
          la base de donn√©es.
        </p>
        <img
          src="../images/29-01_09.png"
          alt="Script de sanitisation des valeurs"
        />
        <p>Je convertit aussi les valeurs en double.</p>
        <img
          src="../images/29-01_10.png"
          alt="fonction de sauvegarde des donn√©es dans ma bdd"
        />
        <p>Sauvegarde des donn√©es.</p>
        <img
          src="../images/29-01_11.png"
          alt="entr√©e de donn√©es dans le formulaire"
        />
        <img
          src="../images/29-01_12.png"
          alt="les donn√©es sont sauvegard√© dans la bdd"
        />
        <p>Plus qu'a mettre automatiquement les valeurs dans le formulaire.</p>
        <p>Suffit de r√©cup√©rer les prix en fonctions de l'id du post.</p>
        <p>
          Je vais enregistrer ma table custom dans la classe WPSP Admin qui
          s'occupe de la communication entre le site et la bdd pour mon plugin,
          puis cr√©er une fonction qui accepte une id et retourne une valeur (le
          prix d√©j√† assign√©).
        </p>
      </section>
      <section>
        <time datetime="01-30">30/01/2025</time>
        <p>D√©couverte de la fonction array_column gr√¢ce a stack overflow</p>
        <p>Elle permet de grandement simplifier ma table.</p>
        <p>Avant :</p>
        <img
          src="../images/30-01_01.png"
          alt="Table avant utilisation de array column"
        />
        <p>Apr√®s :</p>
        <img
          src="../images/30-01_02.png"
          alt="Table apr√®s utilisation de array column"
        />
        <p>
          Ajout d 'un message d 'avertissement si la sauvegarde √©choue quelque
          part
        </p>
        <img src="../images/30-01_03.png" alt="Ajout test de sauvegarde" />
        <p>$success est d√©clare vrai plus haut dans la fonction (save_prix).</p>
        <p>Message de succ√®s ou avertissement</p>
        <img
          src="../images/30-01_04.png"
          alt="Fonction message d'avertissement"
        />
        <p>Ce qui donne :</p>
        <img src="../images/30-01_05.png" alt="Message d'avertissement" />
        <p>L 'affichage d 'erreur sera compliqu√© a tester.</p>
        <p>
          Une recherche dans le
          <a href="https://developer.wordpress.org/plugins/shortcodes/"
            >plugin handbook</a
          >
          pour comment cr√©er des shortcode.
        </p>
        <p>Affichage par types / categorie des prixs.</p>
        <p>Tentative de shortcode :</p>
        <img src="../images/30-01_06.png" alt="Shortcode initial" />
        <p>
          Complication avec les namespace (je savais que √ßa allez revenir pour m
          'agacer).
        </p>
        <p>
          Le mot public est r√©serv√©, donc impossible d 'avoir un namespace
          appel√© public (ou bien finir en public), en changeant le namespace,
          tout fonctionne.
        </p>
        <p>
          Les patterns que j 'ai cr√©e renvoie une ‚Äúerreur‚Äù, un autre d√©faillance
          de wordpress car je n 'ai pas suivi leur 15 livres pour cr√©er un bloc
          sp√©cifique pour un pattern sp√©cifique pour 1 seul utilisation.
        </p>
        <p>Apr√®s 1 heure, finalement r√©ussi a ‚ÄúCorriger‚Äù mon ‚Äúerreur‚Äù</p>
        <p>
          Une solution a √©t√© trouv√© : Il faut coder en dur le contenu pour ne
          pas avoir ‚Äúerreur‚Äù dans le cot√© admin (tout les erreurs sont
          uniquement en admin.), le probl√®me √©tant qu 'on ne peut pas modifier l
          'affichage.
        </p>
        <p>GitHub est hors service (15h33).</p>
        <p>
          Apr√®s une heure, plusieurs forum stack overflow, j 'ai r√©ussi a
          enlever tout les erreurs dans le menu d 'editeur, plus qu '√† repeter
          pour l 'autre pattern.
        </p>
        <p>
          Plus d 'affichage ¬´ block content is invalid or unexpected ¬ª dans l
          'editeur admin
        </p>
        <p>ü•≥ü•≥ü•≥</p>
        <img src="../images/30-01_07.png" alt="Affichage admin correct" />
        <p>Merci, developer console</p>
        <p>Je peut maintenant continuer ce que je faisait, les shortcodes.</p>
        <p>Shortcode de test fonctionne.</p>
        <img src="../images/30-01_08.png" alt="Shortcode marche" />
        <p>
          Le shortcode n 'a pas de style sp√©cifique‚Ä¶ A voir pour la mise en page
          demain.
        </p>
        <p>
          Apr√®s lecture dans le handbook, cr√©ation d 'un enclosing shortcode
          (shortcode qui manipule les donn√©es a l 'int√©rieur).
        </p>
        <p>Je vais faire que le contenu a l 'int√©rieur soit aqua blue.</p>
        <p>Juste pour debug.</p>
        <img
          src="../images/30-01_09.png"
          alt="Le shortcode est maintenant enclosing"
        />
        <p>Fonctionne</p>
        <img
          src="../images/30-01_10.png"
          alt="Shortcode manipule les donn√©es qu'il enclose"
        />
        <p>
          Il faudrait que je commence a penser comment tout mettre en place mais
          je suis d√©j√† mentalement √©puis√© ?
        </p>
        <p>J 'ai envie de m 'endormir.</p>
        <p>
          Je pense que je r√©cup√®re tout les valeurs de ma table et cr√©e un
          affichage avec.
        </p>
        <p>
          Je pense qu 'il serait aussi intelligent d 'ajouter le type de post a
          ma table afin de pouvoir d√©terminer les donn√©es √† r√©cuperer en une
          seule requette
        </p>
        <pre>select * from ma_table where post_type = post_desir√©e</pre>
        <p>
          Ou bien tout simplement faire une jointure (surement plus simple et
          √©vite de cr√©er des doublets)
        </p>
        <p>
          J 'ajouterai un trigger sur la table post pour supprimer un prix quand
          un post est supprim√©.
        </p>
      </section>
      <section>
        <time datetime="01-31">31/01/2025</time>
        <p>Test de trigger. Pas les droits</p>
        <p>
          Apr√®s un recherche rapide, il semble que l'ajout de trigger ne soit
          pas garantie dans l'environnement, au lieu de tester, je vais
          simplement cr√©e une fonction qui se lance a chaque fois que la page de
          prix est ouvert et qui supprime une valeur si l'id associ√©e n'existe
          plus dans la table posts
        </p>
        <pre>
          $mesprix
          pour chaque $prix de $mesprix
          si ..._Posts.ID n'existe pas
          Supprimer $prix de ..._MaTable.
        </pre>
        <p>Cr√©ation de la fonction.</p>
        <img
          src="../images/31-01_01.png"
          alt="Fonction pour enlever les prix qui n'ont plus de post associ√©e"
        />
        <p>Utilise deux nouvelle fonctions dans WPSP_Admin.</p>
        <img
          src="../images/31-01_02.png"
          alt="Fonction qui obtient tout les types postes associ√©es au plugin (post ou autre type custom)"
        />
        <p>Et</p>
        <img
          src="../images/31-01_03.png"
          alt="fonction qui supprime des valeurs dans la base de donn√©es"
        />
        <p>Retour a la cr√©ation de shortcode.</p>
        <p>
          Je vais d'abord m'occuper de l'affichage avec des valeurs cod√© en dur
          puis je m'occuperai de l'importation des donn√©es, raison : je n'ai pas
          envie d'y r√©fl√©chir pour le moment.
        </p>
        <p>
          Cr√©e une table, mais s√ªrement pas ce qui √©tait attendu, je demanderai
          a Ludivine.
        </p>
        <img
          src="../images/31-01_04.png"
          alt="Table d'affichage du shortcode"
        />
        <p>
          R√©cup√©ration des valeurs r√©ussi, la cr√©ation de la table manquent.
        </p>
        <p>Prototype :</p>
        <img src="../images/31-01_05.png" alt="Prototype du shortcode" />
        <p>
          Possiblement faire une colonne par cat√©gorie et cr√©e des cat√©gories
          sp√©cial pour le th√®me.
        </p>
        <p>
          Cherche comment ajouter un formulaire sur l'√©diteur pour l'ajout de
          cat√©gorie, comme celui d√©j√† en place pour post.
        </p>
        <img
          src="../images/31-01_06.png"
          alt="Affichage de base pour les cat√©gories dans les posts wordpress"
        />
        <p>
          Je n'arrive pas a trouver comment le faire, tout les ressources qui
          ressort dans les premiers sur l'engin de recherche dit de cr√©er et
          assigner les cat√©gorie a travers le panneau admin, et il me semble que
          personne explique comment le faire pour les types custom.
        </p>
        <p>
          Je pourrais supprimer des lignes du code de cr√©ation de cat√©gorie
          jusqu'√† par √©limination trouv√© celles qui est utilis√© pour faire
          l'affichage.
        </p>
        <p>
          Vraiment trop compliqu√© a trouver et je n'ai pas du temps illimit√© a
          perdre.
        </p>
        <p>Donc, cr√©ation et test de cat√©gorie gr√¢ce a l'affichage ma√Ætre.</p>
      </section>
      <section>
        <time datetime="02-03">03/02/2025</time>
        <p>
          Modification de la query pour r√©cup√©rer les cat√©gories associ√©es au
          posts avec un prix sauvegard√©, il serait peut √™tre plus simple de
          faire une autre query ?
        </p>
        <p>
          Apr√®s m'√™tre rappeler de fonctions php, cr√©ation d'une table qui
          contient les cat√©gories (terms) des posts qui ont un prix, sans
          duplication.
        </p>
        <img
          src="../images/03-02_01.png"
          alt="script qui g√©n√©re une table avec la colonne name de la query"
        />
        <p>
          Je r√©cup√©re la colonne name de la table de posts, puis supprime tout
          les dupliqu√©.
        </p>
        <p>Le print de d√©bug affiche que le r√©sultat est bien celui attendu.</p>
        <img src="../images/03-02_02.png" alt="print de d√©bug" />
        <p>La table a 2 valeurs, ¬´ ¬ª (ou NULL) et ¬´ Boissons chaudes ¬ª</p>
        <p>
          Comme les terms sont ordonn√©es par nom dans la query, on sait aussi
          que
        </p>
        <ul>
          <li>3 posts ont aucun terms (ie, aucune cat√©gories)</li>
          <li>Au moins 1 post a la cat√©gorie boissons chaudes</li>
        </ul>
        <p>
          Si on ajoutait une valeur de test dans la table avant de supprimer les
          doublons, on pourrait aussi d√©terminer le nombre de posts qui ont la
          cat√©gorie boissons chaudes (ou bien la derni√®re cat√©gorie r√©cup√©rer
          par la query)
        </p>
        <p>En rajoutant un valeur non null, comme un espace, on obtient :</p>
        <img src="../images/03-02_03.png" alt="print de d√©bug" />
        <p>
          On sait donc que la cat√©gorie Boissons chaudes est assign√© a 3 posts
          car 6 - 3 = 3
        </p>
        <p>A quoi tout cela sert ?</p>
        <p>Aucune id√©e.</p>
        <p>
          Apr√®s plus de r√©flexion et moins de code inutile, rappel√© de la
          fonction principal de array_column, qui permet de r√©cup√©rer des
          valeurs d'une table est les assigner a un autre table, tout en
          choisissant quelle valeurs utilis√© pour l'index.
        </p>
        <p>
          Ainsi j'ai maintenant
          <img
            src="../images/03-02_04.png"
            alt="print de d√©bug, une table avec les diff√©rents terms et id de posts y sont contenu"
          />
        </p>
        <p>Ce qui est bien plus facile a utiliser mais on peut faire mieux</p>
        <img
          src="../images/03-02_05.png"
          alt="print de d√©bug, la table est maintenant associative avec les terms  comme cl√©es"
        />
        <p>
          Et voila, ceci est bien plus utile car on peut it√©rer chaque term avec
          un foreach puis chaque post par un for i
        </p>
        <p>
          Une application concret de cela serait de cr√©er un table d'affichage
          qui cr√©e une ent√™te pour chaque section puis les peupler avec les
          postes qui ont le m√™me term que l'ent√™te de la section.
        </p>
        <p>
          Un petit conflit que j'ai trouv√© int√©ressant a not√© dans ce journal de
          bord :
        </p>
        <p>
          les variables utilis√© pour les foreach sont assign√© sur tout
          l'√©chelle, donc utiliser le nom d'une variable d√©j√† utilis√© supprime
          √ßa valeur, on peut facilement √©viter √ß√† en changeant le nom de la
          variable.
        </p>
        <img src="../images/03-02_06.png" alt="petit bug int√©ressant 1" />
        <p>
          $posts est d√©j√† assign√© plus haut dans le code, donc mon code plus bas
          ne fonctionne pas comme pr√©vu
        </p>
        <img src="../images/03-02_07.png" alt="petit bug int√©ressant 2" />
        <p>
          Car il va maintenant it√©rer sur les valeurs r√©cup√©rer dans la boucle
          pr√©c√©dentes.
        </p>
        <p>Bloqu√©, je vais √©crire pour laisser mon cerveaux reflechir.</p>
        <p>
          Mon probl√®me : Je voudrais ajouter mes valeurs dans le tableau en
          fonction de la cat√©gorie mais je n'ai que l'id des posts dans ma table
          de cat√©gorie, r√©cuperer les valeurs des posts ne devrait pas √™tre trop
          compliqu√© mais la mani√®re dont je veut le faire, je n'en suis pas sur.
        </p>
        <p>
          Je pourrais faire un array merge, cela m'a l'air le plus simple mais
          n√©cessiterait d'it√©rer sur les 2 tables, ce qui pourrait √™tre plus
          lent que n√©cessaire ?
        </p>
        <p>
          Il ne serait aussi pas utile d'avoir la table de posts si je garde
          toutes les informations dans la table de cat√©gories.
        </p>
        <p>
          Apr√®s reflexion, je pense pouvoir utilis√© les cl√©es de la table de
          term pour faire une logique, par exemple, je mets un valeur = a une
          des cl√©es, puis quand je peuple ma table (&lt;table&gt; html) je
          verifie si la valeur vaut une valeur sp√©cifique, et si c'est le cas
          alors je fais quelque chose sp√©cifique.
        </p>
        <p>
          Le pointeur d'une table peut √™tre modifier par la fonction next, mais
          n'est pas automatiquement appel√© lors d'une boucle, apr√®s cette
          r√©alisation, correction du code d'affichage.
        </p>
        <img
          src="../images/03-02_08.png"
          alt="script d'affichage par ligne de 2 postes"
        />
        <p>
          L'affichage par cat√©gorie n'est pas encore cod√© mais la variable
          last_of_row devrait √™tre simple a r√©utiliser une fois qu'une logique
          me vient.
        </p>
        <p>
          Il faudrait aussi que je pr√©vois une page pour la modification de la
          mise en page de la fiche par d√©faut, et donc un r√©cup√©ration et mise
          en place des options sauvegard√©.
        </p>
        <p>
          D√©cid√© de cr√©er une fonction appart pour g√©n√©rer une table utilisable
          plus tard.
        </p>
        <img src="../images/03-02_09.png" alt="print de d√©bug, la table associative contient maintenat les termes et les postes" />
        <p>
          La g√©n√©ration de cette table ne requiert uniquement la table de posts.
        </p>
        <p>
          Je n'ai aussi plus besoin de la fonction array column car je peut
          juste utiliser array keys sur cette table.
        </p>
        <img src="../images/03-02_10.png" alt="script, r√©cup√©ration des termes dans la variable terms" />
        <p>
          L'affichage est presque complet, seul probl√®me, les td ne s'affichent
          pas comme esp√©r√© ?
        </p>
        <p>
          Il se chevauche verticalement au lieu de horizontalement, trouv√© assez
          rapidement que l'erreur vient de classe que j'ai rajoute
          (nested-table), car en mettant le display du td en table, l'affichage
          se brisait.
        </p>
        <p>J'enl√®ve donc la classe.</p>
        <p>
          L'affichage n'est pas du plus beau mais il fonctionne plus comme pr√©vu
          initialement.
        </p>
        <img src="../images/03-02_11.png" alt="Affichage basique du shortcode" />
        <p>(D√©caf√©in√©, Cappuccino et Moccacino n'ont pas de cat√©gories).</p>
      </section>
    </main>
  </body>
</html>
